{"ast":null,"code":"// frontend/src/api.js\nimport axios from \"axios\";\nconst API_BASE_URL = \"http://localhost:5000/api\";\nconst parseResponseData = data => {\n  if (typeof data === \"string\") {\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      console.error(\"Ошибка парсинга JSON строки от API:\", e, \"Строка:\", data);\n      return null; // Или вернуть пустой массив/объект в зависимости от ожиданий\n    }\n  }\n  return data; // Если уже объект/массив, возвращаем как есть\n};\nexport const getMatches = async (leagueCode = null) => {\n  try {\n    let url = `${API_BASE_URL}/matches/`;\n    if (leagueCode) {\n      url += `?league=${leagueCode}`;\n    }\n    const response = await axios.get(url);\n    console.log(\"Полный ответ от axios (getMatches):\", response);\n    const parsedData = parseResponseData(response.data);\n    console.log(\"Распарсенные данные (getMatches):\", parsedData);\n    return Array.isArray(parsedData) ? parsedData : []; // Убедимся, что возвращаем массив\n  } catch (error) {\n    console.error(\"Ошибка при загрузке списка матчей:\", error);\n    return [];\n  }\n};\nexport const getMatchById = async matchId => {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/matches/${matchId}`);\n    console.log(\"Полный ответ от axios (getMatchById):\", response);\n    const parsedData = parseResponseData(response.data);\n    console.log(\"Распарсенные данные (getMatchById):\", parsedData);\n    return parsedData; // getMatchById ожидает объект или null\n  } catch (error) {\n    console.error(`Ошибка при загрузке матча с ID ${matchId}:`, error);\n    return null;\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","parseResponseData","data","JSON","parse","e","console","error","getMatches","leagueCode","url","response","get","log","parsedData","Array","isArray","getMatchById","matchId"],"sources":["D:/git/CourseWork/frontend/src/api.js"],"sourcesContent":["// frontend/src/api.js\r\nimport axios from \"axios\";\r\nconst API_BASE_URL = \"http://localhost:5000/api\";\r\n\r\nconst parseResponseData = (data) => {\r\n  if (typeof data === \"string\") {\r\n    try {\r\n      return JSON.parse(data);\r\n    } catch (e) {\r\n      console.error(\"Ошибка парсинга JSON строки от API:\", e, \"Строка:\", data);\r\n      return null; // Или вернуть пустой массив/объект в зависимости от ожиданий\r\n    }\r\n  }\r\n  return data; // Если уже объект/массив, возвращаем как есть\r\n};\r\n\r\nexport const getMatches = async (leagueCode = null) => {\r\n  try {\r\n    let url = `${API_BASE_URL}/matches/`;\r\n    if (leagueCode) {\r\n      url += `?league=${leagueCode}`;\r\n    }\r\n    const response = await axios.get(url);\r\n    console.log(\"Полный ответ от axios (getMatches):\", response);\r\n    const parsedData = parseResponseData(response.data);\r\n    console.log(\"Распарсенные данные (getMatches):\", parsedData);\r\n    return Array.isArray(parsedData) ? parsedData : []; // Убедимся, что возвращаем массив\r\n  } catch (error) {\r\n    console.error(\"Ошибка при загрузке списка матчей:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const getMatchById = async (matchId) => {\r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL}/matches/${matchId}`);\r\n    console.log(\"Полный ответ от axios (getMatchById):\", response);\r\n    const parsedData = parseResponseData(response.data);\r\n    console.log(\"Распарсенные данные (getMatchById):\", parsedData);\r\n    return parsedData; // getMatchById ожидает объект или null\r\n  } catch (error) {\r\n    console.error(`Ошибка при загрузке матча с ID ${matchId}:`, error);\r\n    return null;\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,YAAY,GAAG,2BAA2B;AAEhD,MAAMC,iBAAiB,GAAIC,IAAI,IAAK;EAClC,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IAC5B,IAAI;MACF,OAAOC,IAAI,CAACC,KAAK,CAACF,IAAI,CAAC;IACzB,CAAC,CAAC,OAAOG,CAAC,EAAE;MACVC,OAAO,CAACC,KAAK,CAAC,qCAAqC,EAAEF,CAAC,EAAE,SAAS,EAAEH,IAAI,CAAC;MACxE,OAAO,IAAI,CAAC,CAAC;IACf;EACF;EACA,OAAOA,IAAI,CAAC,CAAC;AACf,CAAC;AAED,OAAO,MAAMM,UAAU,GAAG,MAAAA,CAAOC,UAAU,GAAG,IAAI,KAAK;EACrD,IAAI;IACF,IAAIC,GAAG,GAAG,GAAGV,YAAY,WAAW;IACpC,IAAIS,UAAU,EAAE;MACdC,GAAG,IAAI,WAAWD,UAAU,EAAE;IAChC;IACA,MAAME,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAACF,GAAG,CAAC;IACrCJ,OAAO,CAACO,GAAG,CAAC,qCAAqC,EAAEF,QAAQ,CAAC;IAC5D,MAAMG,UAAU,GAAGb,iBAAiB,CAACU,QAAQ,CAACT,IAAI,CAAC;IACnDI,OAAO,CAACO,GAAG,CAAC,mCAAmC,EAAEC,UAAU,CAAC;IAC5D,OAAOC,KAAK,CAACC,OAAO,CAACF,UAAU,CAAC,GAAGA,UAAU,GAAG,EAAE,CAAC,CAAC;EACtD,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdD,OAAO,CAACC,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC1D,OAAO,EAAE;EACX;AACF,CAAC;AAED,OAAO,MAAMU,YAAY,GAAG,MAAOC,OAAO,IAAK;EAC7C,IAAI;IACF,MAAMP,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAC,GAAGZ,YAAY,YAAYkB,OAAO,EAAE,CAAC;IACtEZ,OAAO,CAACO,GAAG,CAAC,uCAAuC,EAAEF,QAAQ,CAAC;IAC9D,MAAMG,UAAU,GAAGb,iBAAiB,CAACU,QAAQ,CAACT,IAAI,CAAC;IACnDI,OAAO,CAACO,GAAG,CAAC,qCAAqC,EAAEC,UAAU,CAAC;IAC9D,OAAOA,UAAU,CAAC,CAAC;EACrB,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdD,OAAO,CAACC,KAAK,CAAC,kCAAkCW,OAAO,GAAG,EAAEX,KAAK,CAAC;IAClE,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}